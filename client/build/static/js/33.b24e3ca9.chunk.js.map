{"version":3,"sources":["functions/category.js","components/nav/AdminNav.js","functions/product.js","components/forms/FileUpload.js","components/forms/ProductCreateForm.js","pages/admin/product/ProductCreate.js"],"names":["getCategories","a","axios","get","process","getCategory","slug","removeCategory","authtoken","delete","headers","updateCategory","category","put","createCategory","post","Accept","getCategorySubs","_id","AdminNav","className","to","createProduct","product","getProductByCount","count","removeProduct","getProduct","updateProduct","getProducts","sort","order","page","getproductsCount","productStar","productId","star","getRelated","fetchProductsByFilter","arg","FileUpload","values","setValues","setLoading","user","useSelector","state","images","map","image","onClick","public_id","token","then","res","filteredImages","filter","item","catch","err","console","log","style","cursor","src","url","shape","size","type","multiple","accept","onChange","e","files","target","allUploadedFiles","i","length","Resizer","imageFileResizer","uri","push","data","Option","Select","ProductCreateForm","handleSubmit","handleChange","handleCategoryChange","subOptions","showSub","title","description","price","categories","subs","quantity","shipping","colors","brands","color","brand","onSubmit","name","value","c","b","mode","width","placeholder","s","initialState","ProductCreate","useState","setSubOptions","setShowSub","loading","useEffect","loadCategories","LoadingOutlined","preventDefault","window","alert","location","reload","toast","error","response"],"mappings":"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","file":"static/js/33.b24e3ca9.chunk.js","sourcesContent":["import axios from \"axios\";\n\nexport const getCategories = async () => {\n  return await axios.get(`${process.env.REACT_APP_API}/categories`);\n};\n\nexport const getCategory = async (slug) => {\n  return await axios.get(`${process.env.REACT_APP_API}/category/${slug}`);\n};\n\nexport const removeCategory = async (slug, authtoken) => {\n  return await axios.delete(`${process.env.REACT_APP_API}/category/${slug}`, {\n    headers: {\n      authtoken,\n    },\n  });\n};\n\nexport const updateCategory = async (slug, category, authtoken) => {\n  return await axios.put(\n    `${process.env.REACT_APP_API}/category/${slug}`,\n    category,\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n\nexport const createCategory = async (category, authtoken) => {\n  return await axios.post(`${process.env.REACT_APP_API}/category`, category, {\n    headers: {\n      authtoken,\n      Accept: \"application/json\",\n      \"Content-Type\": \"application/json\",\n    },\n  });\n};\n\nexport const getCategorySubs = async (_id) => {\n  return await axios.get(`${process.env.REACT_APP_API}/category/subs/${_id}`);\n};\n","import React from \"react\";\nimport { Link } from \"react-router-dom\";\n\nconst AdminNav = () => {\n  return (\n    <nav>\n      <ul className=\"nav flex-column\">\n        <li className=\"nav-item\">\n          <Link to=\"/admin/dashboard\" className=\"nav-link\">\n            Dashboard\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/admin/product\" className=\"nav-link\">\n            Product\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/admin/products\" className=\"nav-link\">\n            Products\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/admin/category\" className=\"nav-link\">\n            Category\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/admin/sub\" className=\"nav-link\">\n            Sub Category\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/admin/coupon\" className=\"nav-link\">\n            Coupons\n          </Link>\n        </li>\n\n        <li className=\"nav-item\">\n          <Link to=\"/user/password\" className=\"nav-link\">\n            Password\n          </Link>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default AdminNav;\n","import axios from \"axios\";\n\nexport const createProduct = async (product, authtoken) => {\n  return await axios.post(`${process.env.REACT_APP_API}/product`, product, {\n    headers: {\n      authtoken,\n    },\n  });\n};\n\nexport const getProductByCount = async (count) => {\n  return await axios.get(`${process.env.REACT_APP_API}/products/${count}`);\n};\n\nexport const removeProduct = async (slug, authtoken) => {\n  return await axios.delete(`${process.env.REACT_APP_API}/product/${slug}`, {\n    headers: {\n      authtoken,\n    },\n  });\n};\n\nexport const getProduct = async (slug) => {\n  return await axios.get(`${process.env.REACT_APP_API}/product/${slug}`);\n};\n\nexport const updateProduct = async (slug, product, authtoken) => {\n  return await axios.put(\n    `${process.env.REACT_APP_API}/product/${slug}`,\n    product,\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n\nexport const getProducts = async (sort, order, page) => {\n  return await axios.post(`${process.env.REACT_APP_API}/products`, {\n    sort,\n    order,\n    page,\n  });\n};\n\nexport const getproductsCount = async () => {\n  return await axios.get(`${process.env.REACT_APP_API}/products/total`);\n};\n\nexport const productStar = async (productId, star, authtoken) => {\n  return await axios.put(\n    `${process.env.REACT_APP_API}/product/star/${productId}`,\n    { star },\n    {\n      headers: {\n        authtoken,\n      },\n    }\n  );\n};\n\nexport const getRelated = async (productId) => {\n  return await axios.get(\n    `${process.env.REACT_APP_API}/product/related/${productId}`\n  );\n};\n\nexport const fetchProductsByFilter = async (arg) => {\n  return await axios.post(`${process.env.REACT_APP_API}/search/filters`, arg);\n};\n","import React from \"react\";\nimport Resizer from \"react-image-file-resizer\";\nimport axios from \"axios\";\nimport { useSelector } from \"react-redux\";\nimport { Avatar, Badge } from \"antd\";\n\nconst FileUpload = ({ values, setValues, setLoading }) => {\n  const { user } = useSelector((state) => ({ ...state }));\n\n  const fileUploadAndResize = (e) => {\n    // console.log(e.target.files);\n    let files = e.target.files;\n    let allUploadedFiles = values.images;\n\n    if (files) {\n      setLoading(true);\n      for (let i = 0; i < files.length; i++) {\n        Resizer.imageFileResizer(\n          files[i],\n          720,\n          720,\n          \"JPEG\",\n          100,\n          0,\n          (uri) => {\n            // console.log(uri);\n            axios\n              .post(\n                `${process.env.REACT_APP_API}/uploadimages`,\n                { image: uri },\n                {\n                  headers: {\n                    authtoken: user ? user.token : \"\",\n                    \"Content-Type\": \"application/json\",\n                  },\n                }\n              )\n              .then((res) => {\n                // console.log(\"Image\", res);\n                setLoading(false);\n                allUploadedFiles.push(res.data);\n                setValues({ ...values, images: allUploadedFiles });\n              })\n              .catch((err) => {\n                setLoading(false);\n                console.log(err);\n              });\n          },\n          \"base64\"\n        );\n      }\n    }\n  };\n\n  const handleImageRemove = (public_id) => {\n    setLoading(true);\n    axios\n      .post(\n        `${process.env.REACT_APP_API}/removeimage`,\n        { public_id },\n        {\n          headers: {\n            authtoken: user ? user.token : \"\",\n          },\n        }\n      )\n      .then((res) => {\n        setLoading(false);\n        const { images } = values;\n        let filteredImages = images.filter((item) => {\n          return item.public_id !== public_id;\n        });\n        setValues({ ...values, images: filteredImages });\n      })\n      .catch((err) => {\n        console.log(err);\n        setLoading(false);\n      });\n  };\n\n  return (\n    <>\n      <div className=\"row\">\n        {values.images &&\n          values.images.map((image) => (\n            <Badge\n              count=\"X\"\n              key={image.public_id}\n              onClick={() => handleImageRemove(image.public_id)}\n              style={{ cursor: \"pointer\" }}\n            >\n              <Avatar\n                className=\"ml-3\"\n                src={image.url}\n                shape=\"square\"\n                size={100}\n              />\n            </Badge>\n          ))}\n      </div>\n      <br />\n      <div className=\"row\">\n        <input\n          type=\"file\"\n          multiple\n          accept=\"images/*\"\n          onChange={fileUploadAndResize}\n        />\n      </div>\n    </>\n  );\n};\n\nexport default FileUpload;\n","import React from \"react\";\nimport { Select } from \"antd\";\n\nconst { Option } = Select;\n\nconst ProductCreateForm = ({\n  handleSubmit,\n  handleChange,\n  setValues,\n  values,\n  handleCategoryChange,\n  subOptions,\n  showSub,\n}) => {\n  const {\n    title,\n    description,\n    price,\n    category,\n    categories,\n    subs,\n    shipping,\n    quantity,\n    images,\n    colors,\n    brands,\n    color,\n    brand,\n  } = values;\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className=\"form-group\">\n        <label>Title</label>\n        <input\n          type=\"text\"\n          name=\"title\"\n          className=\"form-control\"\n          value={title}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Description</label>\n        <input\n          type=\"text\"\n          name=\"description\"\n          className=\"form-control\"\n          value={description}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Price</label>\n        <input\n          type=\"number\"\n          name=\"price\"\n          className=\"form-control\"\n          value={price}\n          onChange={handleChange}\n        />\n      </div>\n      <br />\n\n      <div className=\"form-group\">\n        <label>Shipping</label>\n        <select\n          name=\"shipping\"\n          className=\"form-control\"\n          onChange={handleChange}\n        >\n          <option>Please select</option>\n          <option value=\"No\">No</option>\n          <option value=\"Yes\">Yes</option>\n        </select>\n      </div>\n      <br />\n\n      <div className=\"form-group\">\n        <label>Quantity</label>\n        <input\n          type=\"number\"\n          name=\"quantity\"\n          className=\"form-control\"\n          value={quantity}\n          onChange={handleChange}\n        />\n      </div>\n\n      <div className=\"form-group\">\n        <label>Color</label>\n        <select name=\"color\" className=\"form-control\" onChange={handleChange}>\n          <option>Please select</option>\n          {colors &&\n            colors.map((c) => (\n              <option key={c} value={c}>\n                {c}\n              </option>\n            ))}\n        </select>\n      </div>\n      <br />\n\n      <div className=\"form-group\">\n        <label>Brand</label>\n        <select name=\"brand\" className=\"form-control\" onChange={handleChange}>\n          <option>Please select</option>\n          {brands &&\n            brands.map((b) => (\n              <option key={b} value={b}>\n                {b}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      <div className=\"form-group\">\n        <label>Category</label>\n        <select\n          name=\"category\"\n          className=\"form-control\"\n          onChange={handleCategoryChange}\n        >\n          <option>Please select</option>\n          {categories &&\n            categories.map((c) => (\n              <option key={c._id} value={c._id}>\n                {c.name}\n              </option>\n            ))}\n        </select>\n      </div>\n\n      {showSub && (\n        <div>\n          <label>Sub Categories</label>\n          <Select\n            mode=\"multiple\"\n            style={{ width: \"100%\" }}\n            placeholder=\"Please select\"\n            value={subs}\n            onChange={(value) => setValues({ ...values, subs: value })}\n          >\n            {subOptions.length > 0 &&\n              subOptions.map((s) => (\n                <Option key={s._id} value={s._id}>\n                  {s.name}\n                </Option>\n              ))}\n          </Select>\n        </div>\n      )}\n      <br />\n\n      <button className=\"btn btn-outline-info\">Save</button>\n    </form>\n  );\n};\n\nexport default ProductCreateForm;\n","import React, { useState, useEffect } from \"react\";\nimport AdminNav from \"../../../components/nav/AdminNav\";\nimport { toast } from \"react-toastify\";\nimport { useSelector } from \"react-redux\";\nimport { createProduct } from \"../../../functions/product\";\nimport ProductCreateForm from \"../../../components/forms/ProductCreateForm\";\nimport { getCategories, getCategorySubs } from \"../../../functions/category\";\nimport FileUpload from \"../../../components/forms/FileUpload\";\nimport { LoadingOutlined } from \"@ant-design/icons\";\n\nconst initialState = {\n  title: \"\",\n  description: \"\",\n  price: \"\",\n  categories: [],\n  category: \"\",\n  subs: [],\n  shipping: \"\",\n  quantity: \"\",\n  images: [],\n  colors: [\"Black\", \"Brown\", \"Silver\", \"White\", \"Blue\"],\n  brands: [\"Apple\", \"Samsung\", \"Microsoft\", \"Lenovo\", \"Asus\", \"Dell\"],\n  color: \"\",\n  brand: \"\",\n};\n\nconst ProductCreate = () => {\n  const [values, setValues] = useState(initialState);\n  const [subOptions, setSubOptions] = useState([]);\n  const [showSub, setShowSub] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  // redux\n  const { user } = useSelector((state) => ({ ...state }));\n\n  useEffect(() => {\n    loadCategories();\n  }, []);\n\n  const loadCategories = () =>\n    getCategories().then((c) => setValues({ ...values, categories: c.data }));\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    createProduct(values, user.token)\n      .then((res) => {\n        console.log(res);\n        window.alert(`\"${res.data.title}\" is created`);\n        window.location.reload();\n      })\n      .catch((err) => {\n        console.log(err);\n        // if (err.response.status === 400) toast.error(err.response.data);\n        toast.error(err.response.data.err);\n      });\n  };\n\n  const handleChange = (e) => {\n    setValues({ ...values, [e.target.name]: e.target.value });\n  };\n\n  const handleCategoryChange = (e) => {\n    e.preventDefault();\n    setValues({ ...values, subs: [], category: e.target.value });\n    getCategorySubs(e.target.value).then((res) => {\n      console.log(res);\n      setSubOptions(res.data);\n    });\n    setShowSub(true);\n  };\n\n  return (\n    <div className=\"container-fluid\">\n      <div className=\"row\">\n        <div className=\"col-md-2\">\n          <AdminNav />\n        </div>\n\n        <div className=\"col-md-10\">\n          {loading ? (\n            <LoadingOutlined className=\"text-danger h1\" />\n          ) : (\n            <h4 className=\"pt-3\">Product Create</h4>\n          )}\n\n          <hr />\n\n          <div className=\"p-3\">\n            <FileUpload\n              setLoading={setLoading}\n              values={values}\n              setValues={setValues}\n            />\n          </div>\n\n          <ProductCreateForm\n            handleSubmit={handleSubmit}\n            handleChange={handleChange}\n            setValues={setValues}\n            values={values}\n            handleCategoryChange={handleCategoryChange}\n            subOptions={subOptions}\n            showSub={showSub}\n          />\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProductCreate;\n"],"sourceRoot":""}