(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[30],{140:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return l})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return d}));var r=n(12),a=n.n(r),c=n(17),s=n(25),u=n.n(s),o=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat("https://easybuyserver.herokuapp.com/api","/categories"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat("https://easybuyserver.herokuapp.com/api","/category/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.delete("".concat("https://easybuyserver.herokuapp.com/api","/category/").concat(t),{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.put("".concat("https://easybuyserver.herokuapp.com/api","/category/").concat(t),n,{headers:{authtoken:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("".concat("https://easybuyserver.herokuapp.com/api","/category"),t,{headers:{authtoken:n,Accept:"application/json","Content-Type":"application/json"}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat("https://easybuyserver.herokuapp.com/api","/category/subs/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},142:function(e,t,n){"use strict";var r=n(2),a=(n(0),n(29));t.a=function(){return Object(r.jsx)("nav",{children:Object(r.jsxs)("ul",{className:"nav flex-column",children:[Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(a.b,{to:"/admin/dashboard",className:"nav-link",children:"Dashboard"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(a.b,{to:"/admin/product",className:"nav-link",children:"Product"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(a.b,{to:"/admin/products",className:"nav-link",children:"Products"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(a.b,{to:"/admin/category",className:"nav-link",children:"Category"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(a.b,{to:"/admin/sub",className:"nav-link",children:"Sub Category"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(a.b,{to:"/admin/coupon",className:"nav-link",children:"Coupons"})}),Object(r.jsx)("li",{className:"nav-item",children:Object(r.jsx)(a.b,{to:"/user/password",className:"nav-link",children:"Password"})})]})})}},169:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"i",(function(){return p})),n.d(t,"c",(function(){return l})),n.d(t,"j",(function(){return b})),n.d(t,"e",(function(){return d})),n.d(t,"g",(function(){return h})),n.d(t,"h",(function(){return j})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return m}));var r=n(12),a=n.n(r),c=n(17),s=n(25),u=n.n(s),o=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("".concat("https://easybuyserver.herokuapp.com/api","/product"),t,{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),i=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat("https://easybuyserver.herokuapp.com/api","/products/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(c.a)(a.a.mark((function e(t,n){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.delete("".concat("https://easybuyserver.herokuapp.com/api","/product/").concat(t),{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat("https://easybuyserver.herokuapp.com/api","/product/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.put("".concat("https://easybuyserver.herokuapp.com/api","/product/").concat(t),n,{headers:{authtoken:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),d=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("".concat("https://easybuyserver.herokuapp.com/api","/products"),{sort:t,order:n,page:r});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),h=function(){var e=Object(c.a)(a.a.mark((function e(){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat("https://easybuyserver.herokuapp.com/api","/products/total"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.put("".concat("https://easybuyserver.herokuapp.com/api","/product/star/").concat(t),{star:n},{headers:{authtoken:r}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("".concat("https://easybuyserver.herokuapp.com/api","/product/related/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(c.a)(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.post("".concat("https://easybuyserver.herokuapp.com/api","/search/filters"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},194:function(e,t,n){"use strict";t.a=n.p+"static/media/loading.81e4bae9.gif"},377:function(e,t,n){"use strict";var r=n(30),a=n(2),c=(n(0),n(481)),s=n.n(c),u=n(25),o=n.n(u),i=n(23),p=n(922),l=n(946);t.a=function(e){var t=e.values,n=e.setValues,c=e.setLoading,u=Object(i.c)((function(e){return Object(r.a)({},e)})).user;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"row",children:t.images&&t.images.map((function(e){return Object(a.jsx)(p.a,{count:"X",onClick:function(){return a=e.public_id,c(!0),void o.a.post("".concat("https://easybuyserver.herokuapp.com/api","/removeimage"),{public_id:a},{headers:{authtoken:u?u.token:""}}).then((function(e){c(!1);var s=t.images.filter((function(e){return e.public_id!==a}));n(Object(r.a)(Object(r.a)({},t),{},{images:s}))})).catch((function(e){console.log(e),c(!1)}));var a},style:{cursor:"pointer"},children:Object(a.jsx)(l.a,{className:"ml-3",src:e.url,shape:"square",size:100})},e.public_id)}))}),Object(a.jsx)("br",{}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("input",{type:"file",multiple:!0,accept:"images/*",onChange:function(e){var a=e.target.files,i=t.images;if(a){c(!0);for(var p=0;p<a.length;p++)s.a.imageFileResizer(a[p],720,720,"JPEG",100,0,(function(e){o.a.post("".concat("https://easybuyserver.herokuapp.com/api","/uploadimages"),{image:e},{headers:{authtoken:u?u.token:"","Content-Type":"application/json"}}).then((function(e){c(!1),i.push(e.data),n(Object(r.a)(Object(r.a)({},t),{},{images:i}))})).catch((function(e){c(!1),console.log(e)}))}),"base64")}}})})]})}},952:function(e,t,n){"use strict";n.r(t);var r=n(47),a=n(30),c=n(110),s=n(2),u=n(0),o=n(142),i=n(41),p=n(23),l=n(169),b=n(140),d=n(377),h=n(394),j=h.a.Option,f=function(e){var t=e.handleSubmit,n=e.handleChange,r=(e.setValues,e.values),a=e.handleCatagoryChange,c=e.categories,u=e.subOptions,o=e.arrayOfSubs,i=e.setArrayOfSubs,p=e.selectedCategory,l=r.title,b=r.description,d=r.price,f=r.category,m=(r.subs,r.shipping),O=r.quantity,v=(r.images,r.colors),x=r.brands,g=r.color,y=r.brand;return Object(s.jsxs)("form",{onSubmit:t,children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Title"}),Object(s.jsx)("input",{type:"text",name:"title",className:"form-control",value:l,onChange:n})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Description"}),Object(s.jsx)("input",{type:"text",name:"description",className:"form-control",value:b,onChange:n})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Price"}),Object(s.jsx)("input",{type:"number",name:"price",className:"form-control",value:d,onChange:n})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Shipping"}),Object(s.jsxs)("select",{value:"Yes"===m?"Yes":"No",name:"shipping",className:"form-control",onChange:n,children:[Object(s.jsx)("option",{value:"No",children:"No"}),Object(s.jsx)("option",{value:"Yes",children:"Yes"})]})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Quantity"}),Object(s.jsx)("input",{type:"number",name:"quantity",className:"form-control",value:O,onChange:n})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Color"}),Object(s.jsx)("select",{value:g,name:"color",className:"form-control",onChange:n,children:v.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)}))})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Brand"}),Object(s.jsx)("select",{value:y,name:"brand",className:"form-control",onChange:n,children:x.map((function(e){return Object(s.jsx)("option",{value:e,children:e},e)}))})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Category"}),Object(s.jsx)("select",{name:"category",className:"form-control",onChange:a,value:p||f._id,children:c.length>0&&c.map((function(e){return Object(s.jsx)("option",{value:e._id,children:e.name},e._id)}))})]}),Object(s.jsxs)("div",{children:[Object(s.jsx)("label",{children:"Sub Categories"}),Object(s.jsx)(h.a,{mode:"multiple",style:{width:"100%"},placeholder:"Please select",value:o,onChange:function(e){return i(e)},children:u.length&&u.map((function(e){return Object(s.jsx)(j,{value:e._id,children:e.name},e._id)}))})]}),Object(s.jsx)("br",{}),Object(s.jsx)("button",{className:"btn btn-outline-info",children:"Save"})]})},m=n(194),O={title:"",description:"",price:"",category:"",subs:[],shipping:"",quantity:"",images:[],colors:["Black","Brown","Silver","White","Blue"],brands:["Apple","Samsung","Microsoft","Lenovo","ASUS"],color:"",brand:""};t.default=function(e){var t=e.match,n=e.history,h=Object(u.useState)(O),j=Object(c.a)(h,2),v=j[0],x=j[1],g=Object(u.useState)([]),y=Object(c.a)(g,2),k=y[0],N=y[1],w=Object(u.useState)([]),C=Object(c.a)(w,2),S=C[0],_=C[1],A=Object(u.useState)([]),P=Object(c.a)(A,2),T=P[0],E=P[1],D=Object(u.useState)(""),R=Object(c.a)(D,2),Y=R[0],B=R[1],G=Object(u.useState)(!1),I=Object(c.a)(G,2),L=I[0],q=I[1],U=Object(p.c)((function(e){return Object(a.a)({},e)})).user,V=t.params.slug;Object(u.useEffect)((function(){J(),z()}),[]);var J=function(){Object(l.c)(V).then((function(e){x(Object(a.a)(Object(a.a)({},v),e.data)),Object(b.d)(e.data.category._id).then((function(e){_(e.data)}));var t=[];e.data.subs.map((function(e){t.push(e._id)})),console.log("ARR",t),E((function(e){return t}))}))},z=function(){return Object(b.b)().then((function(e){console.log("GET CATEGORIES IN UPDATE PRODUCT",e.data),N(e.data)}))};return Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-2",children:Object(s.jsx)(o.a,{})}),Object(s.jsxs)("div",{className:"col-md-10",children:[Object(s.jsx)("h4",{children:"Product update"}),L?Object(s.jsx)("img",{src:m.a,alt:"loading",height:"70px",width:"200px"}):"",Object(s.jsx)("div",{className:"p-3",children:Object(s.jsx)(d.a,{values:v,setValues:x,setLoading:q})}),Object(s.jsx)(f,{handleSubmit:function(e){e.preventDefault(),q(!0),v.subs=T,v.category=Y||v.category,Object(l.j)(V,v,U.token).then((function(e){q(!1),i.b.success("".concat(e.data.title," is updated")),n.push("/admin/products")})).catch((function(e){console.log(e)}))},handleChange:function(e){x(Object(a.a)(Object(a.a)({},v),{},Object(r.a)({},e.target.name,e.target.value)))},setValues:x,values:v,handleCatagoryChange:function(e){e.preventDefault(),console.log("CLICKED CATEGORY",e.target.value),x(Object(a.a)(Object(a.a)({},v),{},{subs:[]})),B(e.target.value),Object(b.d)(e.target.value).then((function(e){console.log("SUB OPTIONS ON CATGORY CLICK",e),_(e.data)})),v.category._id===e.target.value&&J(),E([])},categories:k,subOptions:S,arrayOfSubs:T,setArrayOfSubs:E,selectedCategory:Y}),Object(s.jsx)("hr",{})]})]})})}}}]);
//# sourceMappingURL=30.fc75bb8f.chunk.js.map