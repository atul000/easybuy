(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[39],{142:function(e,t,c){"use strict";var n=c(2),a=(c(0),c(29));t.a=function(){return Object(n.jsx)("nav",{children:Object(n.jsxs)("ul",{className:"nav flex-column",children:[Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(a.b,{to:"/admin/dashboard",className:"nav-link",children:"Dashboard"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(a.b,{to:"/admin/product",className:"nav-link",children:"Product"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(a.b,{to:"/admin/products",className:"nav-link",children:"Products"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(a.b,{to:"/admin/category",className:"nav-link",children:"Category"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(a.b,{to:"/admin/sub",className:"nav-link",children:"Sub Category"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(a.b,{to:"/admin/coupon",className:"nav-link",children:"Coupons"})}),Object(n.jsx)("li",{className:"nav-item",children:Object(n.jsx)(a.b,{to:"/user/password",className:"nav-link",children:"Password"})})]})})}},954:function(e,t,c){"use strict";c.r(t);var n=c(30),a=c(110),s=c(2),r=c(0),o=c(23),i=c(41),l=c(868),u=c.n(l),j=c(12),d=c.n(j),b=c(17),h=c(25),m=c.n(h),x=function(){var e=Object(b.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.get("".concat("https://easybuyserver.herokuapp.com/api","/coupons"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(){var e=Object(b.a)(d.a.mark((function e(t,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.delete("".concat("https://easybuyserver.herokuapp.com/api","/coupon/").concat(t),{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),p=function(){var e=Object(b.a)(d.a.mark((function e(t,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.post("".concat("https://easybuyserver.herokuapp.com/api","/coupon"),{coupon:t},{headers:{authtoken:c}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,c){return e.apply(this,arguments)}}(),f=(c(867),c(310)),v=c(142);t.default=function(){var e=Object(r.useState)(""),t=Object(a.a)(e,2),c=t[0],l=t[1],j=Object(r.useState)(""),d=Object(a.a)(j,2),b=d[0],h=d[1],m=Object(r.useState)(""),N=Object(a.a)(m,2),g=N[0],y=N[1],k=Object(r.useState)(""),w=Object(a.a)(k,2),C=w[0],S=w[1],D=Object(r.useState)([]),P=Object(a.a)(D,2),q=P[0],E=P[1],J=Object(o.c)((function(e){return Object(n.a)({},e)})).user;Object(r.useEffect)((function(){L()}),[]);var L=function(){return x().then((function(e){return E(e.data)}))};return Object(s.jsx)("div",{className:"container-fluid",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-md-2",children:Object(s.jsx)(v.a,{})}),Object(s.jsxs)("div",{className:"col-md-10",children:[C?Object(s.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(s.jsx)("h4",{children:"Coupon"}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault(),S(!0),p({name:c,expiry:b,discount:g},J.token).then((function(e){console.log(e),S(!1),L(),l(""),y(""),h(""),e.data.errors.name.message?i.b.error("".concat(e.data.errors.name.message,". Pls, try again")):i.b.success("".concat(e.data.name," is created"))})).catch((function(e){console.log(e)}))},children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-muted",children:"Name"}),Object(s.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return l(e.target.value)},value:c,autoFocus:!0,required:!0})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-muted",children:"Discount %"}),Object(s.jsx)("input",{type:"text",className:"form-control",onChange:function(e){return y(e.target.value)},value:g,required:!0})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{className:"text-muted",children:"Expiry"}),Object(s.jsx)("br",{}),Object(s.jsx)(u.a,{className:"form-control",selected:new Date,onChange:function(e){return h(e)},value:b,required:!0})]}),Object(s.jsx)("button",{className:"btn btn-outline-primary",children:"Save"})]}),Object(s.jsx)("br",{}),Object(s.jsxs)("h4",{children:[q.length," Coupons"]}),Object(s.jsxs)("table",{className:"table table-bordered",children:[Object(s.jsx)("thead",{className:"thead-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Expiry"}),Object(s.jsx)("th",{scope:"col",children:"Discount"}),Object(s.jsx)("th",{scope:"col",children:"Action"})]})}),Object(s.jsx)("tbody",{children:q&&q.map((function(e){return Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:e.name}),Object(s.jsx)("td",{children:new Date(e.expiry).toLocaleDateString()}),Object(s.jsx)("td",{children:e.discount}),Object(s.jsx)("td",{children:Object(s.jsx)(f.a,{onClick:function(){return t=e._id,void(window.confirm("You want to Delete ?")&&(S(!0),O(t,J.token).then((function(e){L(),S(!1),i.b.error("".concat(e.data.name," deleted"))})).catch((function(e){return console.log(e)}))));var t},className:"text-danger pointer"})})]},e._id)}))})]})]})]})})}}}]);
//# sourceMappingURL=39.3216091d.chunk.js.map