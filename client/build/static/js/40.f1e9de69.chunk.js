(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[40],{171:function(t,e,r){"use strict";r.d(e,"k",(function(){return u})),r.d(e,"f",(function(){return i})),r.d(e,"e",(function(){return p})),r.d(e,"j",(function(){return l})),r.d(e,"b",(function(){return h})),r.d(e,"d",(function(){return d})),r.d(e,"g",(function(){return b})),r.d(e,"h",(function(){return j})),r.d(e,"i",(function(){return f})),r.d(e,"a",(function(){return m})),r.d(e,"c",(function(){return O}));var n=r(12),c=r.n(n),a=r(17),s=r(25),o=r.n(s),u=function(){var t=Object(a.a)(c.a.mark((function t(e,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.post("".concat("https://easybuyserver.herokuapp.com/api","/user/cart"),{cart:e},{headers:{authtoken:r}}));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),i=function(){var t=Object(a.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.get("".concat("https://easybuyserver.herokuapp.com/api","/user/cart"),{headers:{authtoken:e}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(a.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.delete("".concat("https://easybuyserver.herokuapp.com/api","/user/cart"),{headers:{authtoken:e}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=Object(a.a)(c.a.mark((function t(e,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.post("".concat("https://easybuyserver.herokuapp.com/api","/user/address"),{address:r},{headers:{authtoken:e}}));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),h=function(){var t=Object(a.a)(c.a.mark((function t(e,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.post("".concat("https://easybuyserver.herokuapp.com/api","/user/cart/coupon"),{coupon:r},{headers:{authtoken:e}}));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),d=function(){var t=Object(a.a)(c.a.mark((function t(e,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.post("".concat("https://easybuyserver.herokuapp.com/api","/user/order"),{stripeResponse:e},{headers:{authtoken:r}}));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),b=function(){var t=Object(a.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.get("".concat("https://easybuyserver.herokuapp.com/api","/user/orders"),{headers:{authtoken:e}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),j=function(){var t=Object(a.a)(c.a.mark((function t(e){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.get("".concat("https://easybuyserver.herokuapp.com/api","/user/wishlist"),{headers:{authtoken:e}}));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(a.a)(c.a.mark((function t(e,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.put("".concat("https://easybuyserver.herokuapp.com/api","/user/wishlist/").concat(e),{},{headers:{authtoken:r}}));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),m=function(){var t=Object(a.a)(c.a.mark((function t(e,r){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.post("".concat("https://easybuyserver.herokuapp.com/api","/user/wishlist"),{productId:e},{headers:{authtoken:r}}));case 1:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}(),O=function(){var t=Object(a.a)(c.a.mark((function t(e,r,n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",o.a.post("".concat("https://easybuyserver.herokuapp.com/api","/user/cash-order"),{couponApplied:n,COD:r},{headers:{authtoken:e}}));case 1:case"end":return t.stop()}}),t)})));return function(e,r,n){return t.apply(this,arguments)}}()},953:function(t,e,r){"use strict";r.r(e);var n=r(30),c=r(2),a=(r(0),r(23)),s=r(29),o=r(918),u=r(41),i=r(518),p=r(519),l=r(957),h=function(t){var e=t.p,r=Object(a.b)();return Object(c.jsx)("tbody",{children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:Object(c.jsx)("div",{style:{width:"100px",height:"auto"},children:e.images.length>0?Object(c.jsx)(o.a,{large:e.images[0].url,small:e.images[0].url}):Object(c.jsx)(o.a,{large:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQn-SJgS0wvz4a8Y2QXVrZ5iDwFpTbK9ilTqg&usqp=CAU",small:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQn-SJgS0wvz4a8Y2QXVrZ5iDwFpTbK9ilTqg&usqp=CAU"})})}),Object(c.jsx)("td",{children:e.title}),Object(c.jsx)("td",{children:e.price}),Object(c.jsx)("td",{children:e.brand}),Object(c.jsx)("td",{children:Object(c.jsxs)("select",{className:"form-control",name:"color",onChange:function(t){return function(t){var n=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(n=JSON.parse(localStorage.getItem("cart"))),n.map((function(r,c){r._id===e._id&&(n[c].color=t.target.value)})),localStorage.setItem("cart",JSON.stringify(n)),r({type:"ADD_TO_CART",payload:n}))}(t)},children:[e.color?Object(c.jsx)("option",{value:e.color,children:e.color}):Object(c.jsx)("option",{children:"Select"}),["Black","Brown","Silver","White","Blue"].filter((function(t){return t!==e.color})).map((function(t){return Object(c.jsx)("option",{value:t,children:t},t)}))]})}),Object(c.jsx)("td",{className:"text-center",children:Object(c.jsx)("input",{type:"number",className:"form-control",value:e.count,onChange:function(t){return function(t){var n=t.target.value<1?1:t.target.value;if(n>e.quantity)u.b.error("Max available quantity: ".concat(e.quantity));else{var c=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.map((function(t,r){t._id==e._id&&(c[r].count=n)})),localStorage.setItem("cart",JSON.stringify(c)),r({type:"ADD_TO_CART",payload:c}))}}(t)}})}),Object(c.jsx)("td",{className:"text-center",children:"Yes"===e.shipping?Object(c.jsx)(i.a,{className:"text-success"}):Object(c.jsx)(p.a,{className:"text-danger"})}),Object(c.jsx)("td",{className:"text-center",children:Object(c.jsx)(l.a,{className:"text-danger pointer",onClick:function(){var t=[];"undefined"!==typeof window&&(localStorage.getItem("cart")&&(t=JSON.parse(localStorage.getItem("cart"))),t.map((function(r,n){r._id===e._id&&t.splice(n,1)})),localStorage.setItem("cart",JSON.stringify(t)),r({type:"ADD_TO_CART",payload:t}))}})})]})})},d=r(171);e.default=function(t){var e=t.history,r=Object(a.c)((function(t){return Object(n.a)({},t)})),o=r.cart,u=r.user,i=Object(a.b)();return Object(c.jsx)("div",{className:"container-fluid pt-2",children:Object(c.jsxs)("div",{className:"row",children:[Object(c.jsxs)("div",{className:"col-md-8",children:[Object(c.jsxs)("h4",{children:["Cart / ",o.length," Product"]}),o.length?Object(c.jsxs)("table",{className:"table table-bordered",children:[Object(c.jsx)("thead",{className:"thead-light",children:Object(c.jsxs)("tr",{children:[Object(c.jsx)("th",{scope:"col",children:"Image"}),Object(c.jsx)("th",{scope:"col",children:"Title"}),Object(c.jsx)("th",{scope:"col",children:"Price"}),Object(c.jsx)("th",{scope:"col",children:"Brand"}),Object(c.jsx)("th",{scope:"col",children:"Color"}),Object(c.jsx)("th",{scope:"col",children:"Count"}),Object(c.jsx)("th",{scope:"col",children:"Shipping"}),Object(c.jsx)("th",{scope:"col",children:"Remove"})]})}),o&&o.map((function(t){return Object(c.jsx)(h,{p:t},t._id)}))]}):Object(c.jsxs)("p",{children:["No Products in cart.",Object(c.jsx)(s.b,{to:"/shop",children:"Continue Shopping"})]})]}),Object(c.jsxs)("div",{className:"col-md-4",children:[Object(c.jsx)("h4",{children:"Order Summary"}),Object(c.jsx)("hr",{}),Object(c.jsx)("p",{children:"Products"}),o&&o.map((function(t,e){return Object(c.jsx)("div",{children:Object(c.jsxs)("p",{children:[t.title," x ",t.count," = \u20b9",t.price*t.count," "]})},e)})),Object(c.jsx)("hr",{}),"Total: ",Object(c.jsxs)("b",{children:["\u20b9",o.reduce((function(t,e){return t+e.count*e.price}),0)]}),Object(c.jsx)("hr",{}),u?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("button",{onClick:function(){Object(d.k)(o,u.token).then((function(t){console.log("cart",t),t.data.ok&&e.push("/checkout")})).catch((function(t){return console.log(t)}))},disabled:!o.length,className:"btn btn-sm btn-primary mt-2",children:"Proceed to Checkout"}),Object(c.jsx)("br",{}),Object(c.jsx)("button",{onClick:function(){i({type:"COD",payload:!0}),Object(d.k)(o,u.token).then((function(t){console.log("cart",t),t.data.ok&&e.push("/checkout")})).catch((function(t){return console.log(t)}))},disabled:!o.length,className:"btn btn-sm btn-warning mt-2",children:"Cash on Delivery"})]}):Object(c.jsx)("button",{className:"btn btn-sm btn-primary mt-2",children:Object(c.jsx)(s.b,{to:{pathname:"/login",state:{from:"cart"}},children:"Login to Checkout"})})]})]})})}}}]);
//# sourceMappingURL=40.f1e9de69.chunk.js.map